(this["webpackJsonpreact-guided-focus-form-example"]=this["webpackJsonpreact-guided-focus-form-example"]||[]).push([[0],{13:function(e,n,t){e.exports={label:"Label_label__22e0I"}},15:function(e,n,t){e.exports=t(22)},20:function(e,n,t){},22:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(11),o=t.n(l),i=(t(20),t(14)),c=t(7),u=t(3),d=t(1),m=t(4),s=t(12),v=t.n(s),f=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e&&e.setSelectionRange(n,n)},b=t(13),p=t.n(b);var g=r.a.memo((function(e){var n=e.children,t=Object(c.a)(e,["children"]);return r.a.createElement("label",Object.assign({className:p.a.label},t),n)})),h=t(8),E=t.n(h),_=function(e,n){var t=e.replace(/\s/g,"");return n<0?[t,""]:[null===t||void 0===t?void 0:t.substr(0,n),null===t||void 0===t?void 0:t.substr(n,t.length)]};var k=function(e){var n=e.label,t=e.name,l=e.config,o=e.validation,i=e.error,c=e.control,s=(o||{}).maxLength,b=void 0===s?1:s,p=c.register,h=c.getValues,k=c.setValue,y=Object(a.useMemo)((function(){return function(e,n){return Object(d.a)(Array(n)).map((function(n,t){return{id:t,name:"".concat(e,"[").concat(t,"]")}}))}(t,null===l||void 0===l?void 0:l.size)}),[l,t]),C=Object(a.useCallback)((function(e){var n;return null===(n=c.fieldsRef.current[e])||void 0===n?void 0:n.ref}),[c]),j=Object(a.useCallback)((function(e){var n=C(e);n&&n.focus()}),[C]),O=Object(a.useCallback)((function(e,n){var t=C(e);if(t){var a=t.selectionStart;k(e,n,{shouldValidate:!0}),f(document.activeElement,a)}}),[C,k]),w=Object(a.useCallback)((function(e,n){var t,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.activeElement.selectionStart,r=null===(t=y[e])||void 0===t?void 0:t.name,l=_(n,b),o=Object(m.a)(l,2),i=o[0],c=o[1];r&&i&&(O(r,i),a>=n.length&&(j(r),c&&w(e+1,c,a)))}),[y,b,O,j]),N=Object(a.useCallback)((function(e){var n,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=null===(n=y[e])||void 0===n?void 0:n.name,r=h(a),l=r.substr.apply(r,Object(d.a)(t?[1]:[0,r.length-1]));O(a,l),j(a),t&&f(C(a),0)}),[O,j,C,h,y]),S=Object(a.useCallback)((function(e){var n=e.id,t=e.name;return function(e){var a=h(t);if("Backspace"===e.key&&(null===y||void 0===y?void 0:y[n-1]))setTimeout((function(){h(t)===a&&N(n-1)}));else if("Delete"===e.key&&(null===y||void 0===y?void 0:y[n+1]))setTimeout((function(){h(t)===a&&N(n+1,!0)}));else if("ArrowLeft"===e.key&&(null===y||void 0===y?void 0:y[n-1])){var r,l;if(0===document.activeElement.selectionStart)e.preventDefault(),j(null===(r=y[n-1])||void 0===r?void 0:r.name),f(C(null===(l=y[n-1])||void 0===l?void 0:l.name),b)}else if("ArrowRight"===e.key&&(null===y||void 0===y?void 0:y[n+1])){var o,i;if(document.activeElement.selectionEnd===a.length)e.preventDefault(),j(null===(o=y[n+1])||void 0===o?void 0:o.name),f(C(null===(i=y[n+1])||void 0===i?void 0:i.name),0)}}}),[j,C,h,y,b,N]),x=Object(a.useCallback)((function(e){var n=e.id;return function(e){var t=e.target.value;w(n,t)}}),[w]),A=Object(a.useCallback)((function(e){var n=e.name;return function(){k(n,"")}}),[k]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{htmlFor:t},n),r.a.createElement("div",null,y.map((function(e){var n,t=e.id,a=e.name;return r.a.createElement("input",{key:a,ref:p(o),name:a,type:"tel",autoComplete:"off",className:v()(E.a.input,(n={},Object(u.a)(n,E.a.valid,h(a)&&!(null===i||void 0===i?void 0:i[t])),Object(u.a)(n,E.a.error,null===i||void 0===i?void 0:i[t]),n)),onKeyDown:S({id:t,name:a}),onChange:x({id:t,name:a}),onPaste:A({id:t,name:a})})}))))};var y=function(e){var n=e.type,t=Object(c.a)(e,["type"]);switch(n){case"CARD_NUMBER_FIELD":return r.a.createElement(k,t);default:return null}},C=t(9),j=t.n(C),O=[{label:"Card number",name:"cardnumber",type:"CARD_NUMBER_FIELD",config:{size:4},validation:{required:!0,minLength:4,maxLength:4,pattern:/\d/}}];var w=function(){var e=Object(i.a)({mode:"onChange"}),n=e.handleSubmit,t=e.errors,a=e.formState,l=e.reset,o=e.control;return r.a.createElement("div",{className:j.a.container},r.a.createElement("form",{className:j.a.form,onSubmit:n((function(e){var n,t;console.log("CardNumber:",null===(n=e.cardnumber)||void 0===n?void 0:n.join(""));var a=null===(t=o.fieldsRef.current["cardnumber[0]"])||void 0===t?void 0:t.ref;a&&a.focus(),l()}))},O.map((function(e){return r.a.createElement(y,Object.assign({key:e.name,error:null===t||void 0===t?void 0:t[e.name],control:o},e))})),r.a.createElement("br",null),r.a.createElement("small",null,"Try to copy and paste over the fields"," ",r.a.createElement("span",{role:"img","aria-label":"magic"},"\u2728")),r.a.createElement("small",null,"You can use arrows to move between fields"," ",r.a.createElement("span",{role:"img","aria-label":"magic"},"\ud83d\udc8e")),r.a.createElement("small",null,"Also use `backspace` and `delete` keys"," ",r.a.createElement("span",{role:"img","aria-label":"genius"},"\ud83d\udd2e")),r.a.createElement("button",{type:"submit",className:j.a.button,disabled:!a.isValid},"Pay")))};var N=function(){return r.a.createElement(w,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,n,t){e.exports={input:"CardNumberField_input__9AUES",valid:"CardNumberField_valid__261vT",error:"CardNumberField_error__eSH3X"}},9:function(e,n,t){e.exports={container:"Checkout_container__1EHtp",form:"Checkout_form__2Gf-X",button:"Checkout_button__1HAyz"}}},[[15,1,2]]]);
//# sourceMappingURL=main.9ba3b7e4.chunk.js.map